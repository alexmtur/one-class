<!DOCTYPE html>
<html><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <link href="https://fonts.googleapis.com/css?family=Lato:300" rel="stylesheet">
  <!-- <script src="./node_modules/web-animations-js/web-animations.min.js"></script> -->
  <title>lit-element demo</title>
</head>
<body>
    <style>
    body {
         font: 100% "Lato", sans-serif;
         font-weight: 300 !important;
         color: #333;
         background-color: white;
         margin: 0 !important;
         line-height: 1.5;
         min-height: 100vh; 

         --one-color: yellow;
     }
    </style>
    <button onclick="myFunction()">Change color</button>
    <script type="text/javascript">

        //Instead of this we could use it to retrieve color config from the user
        const star = document.querySelector('body');
        star.style.setProperty('--one-color', 'orange');
        console.log(star);
        function myFunction() {
            const star = document.querySelector('body');
            star.style.setProperty('--one-color', 'fuchsia');
        }
    </script>
  <script type="module">
    // import { LitElement, html } from './node_modules/@polymer/lit-element/lit-element.js';
    import {OneClass, html} from "./one-class.js"
    import {PolymerElement} from "./node_modules/@polymer/polymer/polymer-element.js"
    import {oneStyle} from "./node_modules/@alexmtur/one-style/one-style.js"
    import {LitElement} from '@polymer/lit-element';
    //import 

    //Add test of hide(), show(), Firebase and one-page. maybe even login would be cool

    class MyElement extends OneClass {
      static get properties() {
        return {
          foo: {type: String, value: 'akex', observer: '_changed1'},
          color: {type: String, value: 'akex', observer: '_changed'},
          bar: String,
          //activeUrl: String,
          //act: String
        }
      }
      _changed(newvar, oldvar) {
        console.log('hello');
      }
    //   _propertiesChanged(props, changedProps, prevProps) {
    //     super._propertiesChanged(props, changedProps, prevProps);
    //     console.log('changed props');
    //     console.log(changedProps);
    // }
    

      constructor() {
        super();
        this.foo = 'Peter';
        this.color = 'pink';
        this.entryAnimation = 'horizontal-expand';
        this.exitAnimation = 'fade-out';
        window.addEventListener('build', function (e) { 
console.log(decodeURI(location.pathname + location.search))}, false);
        //this.visible = true;

      }

      updateColor() {
        console.log('Color Updated!');
        this.color = 'gold';
        this.show();
        //window.dispatchEvent(new CustomEvent('build', { detail: this.path }));
        // this.animate([
        //         {opacity: 1},
        //         {opacity: 0}
        //     ], {duration: 300, easing: 'ease-in-out'});
        //var elem = this.getElementById('pulse');
        // console.log(this);
        // var animation = this.animate({
        //   opacity: [1, 0, 1, 0],
        //   //transform: ['scale(0.5)', 'scale(1)'],
        // }, {
        //   easing: 'ease-in-out',
        //   direction: 'alternate',
        //   duration: 5000,
        //   //iterations: Infinity,
        // });
        //let animation = this.animate({opacity: [1, 0, 1, 0]}, {duration: 3000, easing: 'ease-in-out'});
        let animation = this.animate({
  opacity: [0.5, 1],
  transform: ['scale(0.5)', 'scale(1)'],
}, {
  direction: 'alternate',
  duration: 500,
  //iterations: Infinity,
});
      }
      _render() {
        // console.log(this.whales);
        return html`
        ${oneStyle}
          <style> 
        h1 { background: ${this.color}; }
        </style>
         <h1 class="info"> Some Name ${this.foo} and color: ${this.color}</h1>
        <button  on-click=${(e) => this.updateColor(e)}>Change Color</button>  
        <button  on-click=${(e) => {this.hide();}}>Close</button> 
        <h1>Hey ${this.bar}</h1>
        <div id="pulse" style="width: 150px;">
          Hello world!
        </div>
        `;
      }
    }
    customElements.define('my-element', MyElement);
  </script>
  <my-element foo="Pedro" bar="5" whales="5" id="alice">Element 1</my-element>
  <my-element bar="5" whales="5">Element 2</my-element>
  <my-element bar="5" whales="5" activeUrl="/home">Element 3</my-element>
</body></html>



